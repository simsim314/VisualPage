<!DOCTYPE html>
<html>
<body>

<script src="https://cdn.jsdelivr.net/gh/ethereum/web3.js@1.0.0-beta.37/dist/web3.min.js"></script>
<script src="https://raw.githubusercontent.com/ethereumjs/browser-builds/master/dist/ethereumjs-tx/ethereumjs-tx-1.3.3.min.js"></script>

<script>
function getWeb3()
{
	return new Web3(new Web3.providers.WebsocketProvider('ropsten.infura.io/v3/c546e1ae7a534167825903292873762a'))
	//return new Web3(new Web3.providers.HttpProvider('HTTP://127.0.0.1:8545'));
}

function Send(ether_amount, sender_prk, sender_pbk, reciever_pbk)
{
	var web3 = getWeb3();
	
	const contractAddress = ContractAddress();
	var contract = getContract();
	
	web3.eth.getTransactionCount(sender_pbk, (err, txCount) => {

	const txObject = {
		nonce:    (txCount),
		gasLimit: web3.utils.toHex(300000), // Raise the gas limit to a much higher amount
		gasPrice: web3.utils.toHex(web3.utils.toWei('15', 'gwei')),
		to: reciever_pbk,
		value: web3.utils.toHex(web3.utils.toWei(ether_amount, 'ether'))
	};

	const tx = new ethereumjs.Tx(txObject);
	
	console.log(sender_prk);
	sender_prk = ethereumjs.Buffer.Buffer.from(sender_prk, 'hex')
	
	tx.sign(sender_prk);

	const serializedTx = tx.serialize();
	const raw = '0x' + serializedTx.toString('hex');
	
	web3.eth.sendSignedTransaction(raw, (err, txHash) => {
	console.log('err:', err, 'txHash:', txHash)
	});
});
}

var web3 = getWeb3();	
console.log(web3.eth.accounts.create());
</script>
</html>
</body>
